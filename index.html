<!DOCTYPE html>
<html lang="ja">
<style>
  body{
        text-align: center;
        }
        h1 {
        text-align: center;
    }
    div#text-caution{
        background-color: rgba(213, 240, 114, 0.667);
    }
    div#input{
        background-color: rgba(142, 211, 202, 0.671);
    }
</style>
<head>
  <meta charset="UTF-8">
  <title>TurboWarpアクセスサイト</title>
</head>
<body>
  <div id="center">
    <h1>スクラッチ共有補助サイト</h1>
    <div id="text-caution">
      <p>非公開のスクラッチプロジェクトを見るツール・TurboWarpをアクセスしやすいように作ったサイトです。</p>
      <p>※あくまでも、友達同士で、ネットに公開せずにスクラッチを見合いたい、という人のためのものです。</p>
      <p>IDとは、スクラッチのプロジェクトを開いたときのURLに表示されている .../projects/ のところの数字のことです。</p>
      <p>TurboWarp: https://turbowarp.org/ </p>
      <p>注意：間違ってほかの数字を入力すると、ほかの人のプロジェクトが出てくる可能性があります。しっかり打ってください。</p>
    </div>
    <div id="input">
      <p> <label>友達のプロジェクトのID：<input type="number" id="id"></label> <input type="button" value="送信" id="redirectButton"> </p>
    </div>
  </div>
  <script>
    function buttonClick(){
      if(id.value == null || id.value == "" || id.value == '' || id.value <= 0 || String(id.value).match(".")){
          alert('何も入力されていないか、無効なIDです。');
          return;
        }
        window.open(('https://turbowarp.org/' + id.value));
    }
    
    let id = document.getElementById('id');
    id.onkeypress = (e) => {
      const key = e.keyCode || e.charCode || 0;

      if(key == 13)
      {
        e.preventDefault();
        if(id.value == null || id.value == "" || id.value == '' || id.value <= 0 || String(id.value).match(".")){
          alert('何も入力されていないか、無効なIDです。');
          return;
        }
        window.open(('https://turbowarp.org/' + id.value));
      }
    }
    id.value = '';
    
    let redirectButton = document.getElementById('redirectButton');
    redirectButton.addEventListener('click', buttonClick);
  </script>
